Linux
------
whoami
touch a.txt -- to create a file
ls
pwd
mkdir tws
cd -   for one step back
mv ../merofile.txt .  -- moving file merofile.txt to present working directory

nano  --open and window

nano merifile.txt  --opens window / enter the content /yes/quit

echo "hello world"
history
ls -la

SSH
----
onse server to another server we need pem file.

sudo ssh -i "default.pem" ec2-user@ec2-3-17-204-64.us-east-2.compute.amazonaws.com

sudo apt get update

man ls
man ssh

mkdir newfolder
cp TWS/merifile.txt newfolder/   --copy files from one folder to another file

scp
---
touch from_local.txt
vi from_local.txt

sudo scp -i tws-key.pem  ubuntu/new.merifile.txt .


esc 
:wq


Shell scripting
-----------------
mkdir scripts
cd scripts
echo "hello"
Bash --bourne again shell
which bash 
nano devops-first.sh
  --notepad opens
  
    #!/bin/bash
	echo "i will be a great Devops Engineer"
	
	ctrl+x
	yes
	yes
	
bash devops-first.sh ---To run bash script

./devops-first.sh

ls -l  -->to check how many permissions are there

chmod 777 devops-first.sh
ls -l

./devops-first.sh

nano devops-first.sh
 
  echo $BASH
  name="Jyo"
  echo "hello${name}"
  ctrl+X
  yes
  yes
  
  o/p: hello jyo
  
# --means comment

user input / Arguments
-----------------------
echo "hello ${name} , please enter age"

read age

echo "My age is ${age}"

echo "sub :hello"

sleep 2

echo "Me:hii"

sleep 2

./devops-first.sh  --runs the script

arguments
----------

./devops-first.sh Jyothi


  echo "hello ${name} , please enter age"

read age

echo "My age is ${age}"

echo "sub :hello"

sleep 2

echo "Me:hii $1"

sleep 2
	
if statement
------------
nano if-test.sh

open notepad

#!/bin/bash

if [ $1 = "Like"]
then
 echo "hey please like"
else
 echo "Okay subscribe"
fi   ---end of if


./if-test.sh like
chmod 777 if-test.sh

Adv shell scripting
--------------------

if-elif
-------

#!/bin/bash

a=100
b=200
c=300

if [[$a -gt $b && $a -gt $c ]]
then
echo "A Is biggest"
elif[[$b -gt $a && $b -gt $c ]]
then 
echo "b is biggest"
else
echo "c is biggest"
fi


execute
------
chmod 777 if_elif.sh
./if_elif.sh


Loops
-----
nano Loops.sh

#!/bin/bash

for((i=0; i<10; I++))
do
echo "$i"
done


chmod 777 loops.sh
./loops.sh
1
2
3
4
5

while
------

#!/bin/bash

df -H \awk '{print $5 ' ' $1}' | while read output;
do
 echo "Disk details: $output"
done




files
------
touch file1.txt
touch file{2..10}.txt  --to create file2 to file 10

to iterate files
------------------
for FILE in *.txt
do
echo $FILE
done

adding user
------------

#!/bin/bash

add-user()
{
USER=$1
PASS=$2

useradd -m -p $PASS $USER && echo "successfully added user"

}

#MAIN

add-user jyothi test@123

chmod 777 add-user.sh
./adding-user.sh

sudo ./add-user.sh

to check user added or notepad
go etc folder
cat/etc/passwd

we can see here user added

backups
-------
#!/bin/bash

src_dir=/home/ubuntu/scripts
tgt-_dir=/home/ubuntu/backups

curr_timestamp=($date "+%Y-%m-%d-%H-%M-%S")

echo "Scurr_timestamp"
backup-file=$tgt-_dir/$curr-timestamp.tgz
echo "Taking backup on $curr-timestamp"

echo "$backup-files"

tar czf $backup_file $src_dir   --making zipfile

tar czf $backup_file --absolute-names $src_dir   --making zipfile


echo "Backup complete"


./backup.sh  --to execute

Memory commands
----------------
free  --to check the RAM details
top  --processors are running
df -H   ---filesystems and storage details

df -H | awk '{print $1}'  --to take particular coloum from the outpur=t of df -H

df -H | awk '{print $1 " " $5}'


-------------
vim checkdisk.sh


click i

#!/bin/bash

df -H | awk '{print $5 " " $1}'

esc
:wq

-----
cut commands
--------------


#!/bin/bash

df -H \awk '{print $5 ' ' $1}' | while read output;
do
 echo "Disk details: $output"
 usage=$(echo $output | awk '{print $1}' | cut -d'%' -f1)
 echo $usage
 if [ $uagae -ge 90]
 then 
 echo "CRITICAL"
 fi
done

---------------------


cronjob/cron tab
----------------

cron is a service, used for automate or schedule

crontab is a set of commands related to how many times execute, at what time executee..

--
cat /etc/crontab

---
crontab -l    --to check the crontab list
crontab -e
 file opens
 
M  h dom mon dow command
50 4 * * echo "this is my fst cronjob"  > /home/ubuntu/test-cron-first.sh

crontab -e  ---to edit crontab

* * * * * bash /home/ubuntu/scripts/check_disk.sh >> /home/ubuntu/check_disk.sh

